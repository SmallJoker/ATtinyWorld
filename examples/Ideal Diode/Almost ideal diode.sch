<Qucs Schematic 25.1.1>
<Properties>
  <View=-65,216,1506,1295,1.08383,0,1>
  <Grid=10,10,1>
  <DataSet=Almost ideal diode.dat>
  <DataDisplay=Almost ideal diode.dpl>
  <OpenDisplay=0>
  <Script=Almost ideal diode.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Title>
  <FrameText1=Drawn By:>
  <FrameText2=Date:>
  <FrameText3=Revision:>
</Properties>
<Symbol>
</Symbol>
<Components>
  <NutmegEq T1_Vdrop 1 1100 310 -30 18 0 0 "TR1" 1 "V_drop_10mV=(tran.v(v_in) - tran.v(v_bat)) * 100" 1>
  <GND * 1 130 620 0 0 0 0>
  <C C1 1 930 550 17 -26 1 3 "50 mF" 1 "10 V" 0 "neutral" 0>
  <C C2 1 700 590 17 -26 0 1 "2 nF" 1 "" 0 "neutral" 0>
  <Vac V1 1 130 520 18 -26 0 1 "1 V" 1 "10 Hz" 0 "60" 0 "0" 0 "12 V" 1 "0" 0>
  <R Ri 1 130 440 15 -26 0 1 "0.5" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <VProbe V_en 1 270 360 -31 28 1 3>
  <_BJT Q1 1 370 400 8 -26 1 0 "npn" 0 "2.39e-14" 0 "1.008" 0 "1.004" 0 "0.1357" 0 "0.1144" 0 "63.2" 0 "25.9" 0 "3.55e-15" 0 "1.541" 0 "6.27e-14" 0 "1.243" 0 "294.3" 0 "7.946" 0 "1" 0 "1e-06" 0 "0.85" 0 "0.4683" 0 "1" 0 "1.36e-11" 0 "0.65" 0 "0.3279" 0 "3.73e-12" 0 "0.3997" 0 "0.2955" 0 "0.6193" 0 "0" 0 "0.75" 0 "0.333" 0 "0.9579" 0 "4.39e-10" 0 "120" 0 "2.643" 0 "0.7495" 0 "1e-32" 0 "26.85" 0 "0" 0 "1" 0 "1" 0 "0" 0 "1" 0 "1" 0 "0" 0 "0" 0 "3" 0 "1.11" 0 "26.85" 0 "1" 0 "yes" 0>
  <R R1 1 370 590 15 -26 0 1 "100k" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R R5 1 600 590 15 -26 0 1 "330k" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <Lib Q3 1 480 310 -26 -27 0 1 "PMOSFETs" 0 "IRF9Z34N" 0>
  <R R3 1 500 370 15 -26 0 1 "470k" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R R2 1 500 590 15 -26 0 1 "100k" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <.TR TR1 1 1070 450 0 62 0 0 "lin" 1 "0.2 s" 1 "0.4 s" 1 "1000" 0 "Gear" 0 "2" 0 "1 ns" 0 "1e-16" 0 "150" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "26.85" 0 "1e-3" 0 "1e-6" 0 "1" 0 "CroutLU" 0 "no" 0 "yes" 0 "0" 0>
  <R Rload 1 850 470 15 -26 0 1 "100" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <_BJT Q4 1 600 340 8 -26 1 0 "pnp" 0 "3.83e-14" 0 "1.008" 0 "1.005" 0 "0.08039" 0 "0.047" 0 "21.11" 0 "32.02" 0 "1.22e-14" 0 "1.528" 0 "2.85e-13" 0 "1.28" 0 "344.4" 0 "14.84" 0 "1" 0 "1e-06" 0 "0.5713" 0 "0.6202" 0 "1" 0 "1.23e-11" 0 "0.6106" 0 "0.378" 0 "1.08e-11" 0 "0.1022" 0 "0.3563" 0 "0.6288" 0 "0" 0 "0.75" 0 "0.333" 0 "0.8027" 0 "5.6e-10" 0 "3.414" 0 "5.23" 0 "0.1483" 0 "1e-32" 0 "26.85" 0 "0" 0 "1" 0 "1" 0 "0" 0 "1" 0 "1" 0 "0" 0 "0" 0 "3" 0 "1.11" 0 "26.85" 0 "1" 0 "yes" 0>
  <_BJT Q2 1 740 430 8 -26 1 0 "pnp" 0 "3.83e-14" 0 "1.008" 0 "1.005" 0 "0.08039" 0 "0.047" 0 "21.11" 0 "32.02" 0 "1.22e-14" 0 "1.528" 0 "2.85e-13" 0 "1.28" 0 "344.4" 0 "14.84" 0 "1" 0 "1e-06" 0 "0.5713" 0 "0.6202" 0 "1" 0 "1.23e-11" 0 "0.6106" 0 "0.378" 0 "1.08e-11" 0 "0.1022" 0 "0.3563" 0 "0.6288" 0 "0" 0 "0.75" 0 "0.333" 0 "0.8027" 0 "5.6e-10" 0 "3.414" 0 "5.23" 0 "0.1483" 0 "1e-32" 0 "26.85" 0 "0" 0 "1" 0 "1" 0 "0" 0 "1" 0 "1" 0 "0" 0 "0" 0 "3" 0 "1.11" 0 "26.85" 0 "1" 0 "yes" 0>
  <IProbe I_charge 1 690 310 -26 16 0 0>
  <VProbe V_eb 1 690 380 -31 28 1 3>
  <R R4 1 600 530 15 -26 0 1 "220k" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R Rc 1 340 340 15 -26 0 1 "680" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
</Components>
<Wires>
  <930 310 930 520 "" 0 0 0 "">
  <130 620 370 620 "" 0 0 0 "">
  <930 580 930 620 "" 0 0 0 "">
  <700 620 850 620 "" 0 0 0 "">
  <130 550 130 620 "" 0 0 0 "">
  <130 470 130 490 "" 0 0 0 "">
  <130 310 130 410 "" 0 0 0 "">
  <290 430 370 430 "" 0 0 0 "">
  <290 370 290 430 "" 0 0 0 "">
  <130 310 290 310 "V_in" 250 270 101 "">
  <290 310 340 310 "" 0 0 0 "">
  <290 310 290 350 "" 0 0 0 "">
  <340 370 370 370 "" 0 0 0 "">
  <340 370 340 400 "" 0 0 0 "">
  <370 430 370 560 "" 0 0 0 "">
  <370 620 500 620 "" 0 0 0 "">
  <600 620 700 620 "" 0 0 0 "">
  <600 560 700 560 "is_on" 720 530 92 "">
  <600 370 600 500 "" 0 0 0 "">
  <500 620 600 620 "" 0 0 0 "">
  <500 340 570 340 "" 0 0 0 "">
  <510 310 600 310 "" 0 0 0 "">
  <480 340 480 400 "" 0 0 0 "">
  <500 400 500 460 "" 0 0 0 "">
  <480 400 500 400 "" 0 0 0 "">
  <500 460 500 560 "" 0 0 0 "">
  <850 310 930 310 "" 0 0 0 "">
  <850 310 850 440 "" 0 0 0 "">
  <850 620 930 620 "" 0 0 0 "">
  <850 500 850 620 "" 0 0 0 "">
  <740 310 850 310 "" 0 0 0 "">
  <600 310 660 310 "" 0 0 0 "">
  <500 460 740 460 "" 0 0 0 "">
  <370 430 710 430 "" 0 0 0 "">
  <720 310 740 310 "" 0 0 0 "">
  <740 310 740 370 "" 0 0 0 "">
  <740 370 740 400 "" 0 0 0 "">
  <710 370 740 370 "" 0 0 0 "">
  <710 390 710 430 "" 0 0 0 "">
  <340 310 450 310 "" 0 0 0 "">
  <930 310 930 310 "V_bat" 940 270 0 "">
  <500 460 500 460 "GATE" 410 460 0 "">
</Wires>
<Diagrams>
  <Rect 131 1076 819 358 3 #c0c0c0 1 00 1 0.2 0.02 0.4 0 -10 10 30 1 -1.09177 0.5 0.820777 315 0 225 0 0 0 "" "" "">
	<"ngspice/tran.v(v_bat)" #000000 2 3 0 0 0>
	<"ngspice/tran.v(v_in)" #7a7a7a 2 3 0 0 0>
	<"ngspice/tran.v_drop_10mv" #aa00ff 2 3 0 0 0>
	  <Mkr 0.207167 129 -310 3 0 0>
	<"ngspice/tran.i(vi_charge)" #aa0000 3 3 0 0 1>
	<"ngspice/tran.v(is_on)" #00ffff 2 3 0 0 0>
	<"ngspice/tran.v(gate)" #555500 4 3 0 0 0>
	<"ngspice/tran.v(v_en)" #0055ff 2 3 0 0 1>
	<"ngspice/tran.v(v_eb)" #aa007f 2 3 0 0 1>
  </Rect>
</Diagrams>
<Paintings>
  <Text 110 260 13 #0000ff 0 "Input:\n0 V ... >20 V">
</Paintings>
